{% extends "base.html" %}
{% block title %}Feed Page{% endblock %}

{% block content %}
<section class="section" style="background-color: #1a1a1a;">
    <div class="container">
        <h1 class="title is-2 has-text-primary mb-6" style="color: #03e683 !important;">Feed</h1>
        
        {% if articles %}
            <div class="articles-container">
                {% for article_obj in articles %}
                <a href="{% url 'article_content' article_obj.article.id %}">
                    <div class="custom-card mb-4 {% if article_obj.status == 'read' %}read{% endif %}" 
                         style="background-color: #2c2c2c; border-radius: 8px; overflow: hidden;">
                        <div class="columns is-marginless">
                            <!-- Thumbnail Column -->
                            <div class="column is-one-third">
                                <figure class="image is-4by3">
                                    <img src="{{ article_obj.article.thumbnail_url }}" 
                                         alt="Article image"
                                         style="object-fit: cover;">
                                </figure>
                            </div>
                            
                            <!-- Content Column -->
                            <div class="column">
                                <div class="card-content" style="padding: 1.5rem;">
                                    <h2 class="title is-4 mb-4" style="color: white !important;">
                                        {{ article_obj.article.title }}
                                    </h2>
                                    
                                    <div class="meta-info mb-4" style="color: #888;">
                                        <p class="mb-2">
                                
                                            <span class="ml-2" style="color: #03e683">{{ article_obj.article.source.name }}</span>
                                        </p>
                                        <p>
                                            <span class="ml-2" style="color: #03e683">{{ article_obj.article.published_date }}</span>
                                        </p>
                                    </div>
                                    
                                    <!-- <a href="{% url 'article_content' article_obj.article.id %}" 
                                       class="button read-more-button"
                                       style="background-color: #03e683; color: #1a1a1a; border: none;">
                                        Read more
                                    </a> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        {% else %}
            <div class="has-text-centered">
                <p class="subtitle" style="color: #888 !important;">No articles found.</p>
            </div>
        {% endif %}
    </div>
</section>
{% endblock %}
